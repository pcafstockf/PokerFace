<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 from src/site/markdown/benchmarks.md
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Language" content="en" />
    <title>PokerFace &#x2013; How fast is PokerFace?</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.7.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>PokerFace <(◕___◕)></h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="downloads.html" title="Downloads"><span class="none"></span>Downloads</a></li>
    <li><a href="https://www.github.com/pcafstockf/PokerFace" class="externalLink" title="Source Code"><span class="none"></span>Source Code</a></li>
    <li class="active"><a href="#"><span class="none"></span>Benchmarks</a></li>
    <li><a href="overview-dev.html" title="Dev Guide"><span class="none"></span>Dev Guide</a></li>
    <li><a href="apidocs/index.html" title="Java Doc"><span class="none"></span>Java Doc</a></li>
</ul>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://www.bytelightning.com/" title="Foo" class="builtBy"><img class="builtBy"  alt="Foo" src="powered-by.png"    /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<div class="section">
<div class="section">
<h3><a name="How_fast_is_PokerFace.3F"></a>How fast is PokerFace?</h3>
<p>Everyone asks &#x201c;How fast is PokerFace?&#x201d;, and frankly, &#x201c;We don&#x2019;t know&#x201d;, just doesn&#x2019;t seem to satisfy them.<br />
So, after running some informal tests we can say &#x201c;<b>It&#x2019;s really fast !</b>&#x201d;.<br />
Please keep in mind that the purpose of these benchmarks is not to make definitive claims.  The tests were performed using limited resources, just give us a feel as to what planet PokerFace is on.  Some results from the tests are <a href="#Questions">not yet full understood</a>, so please take all this with a grain of salt.</p></div>
<div class="section">
<h3><a name="Procedure"></a>Procedure</h3>
<p>Testing was done on a Macbook with <a class="externalLink" href="http://httpd.apache.org/docs/current/programs/ab.html">ab</a> (Apache Bench) and <a class="externalLink" href="http://www.joedog.org/siege-home/">siege</a> running locally against local server instances of <tt>PokerFace</tt> and <a class="externalLink" href="http://nginx.org">nginx</a> each listening on the loopback interface to eliminate network traffic issues.  Two terminal windows were opened, one to run the server (either PokerFace or nginx) and one to run the load test tool (either ab or siege).</p>
<p>Each server was configured to serve static files from a local directory.  The files and configurations used can be found in the <a class="externalLink" href="https://github.com/pcafstockf/PokerFace/tree/master/Samples/Benchmark">Samples/Benchmark/</a> directory of this project.</p>
<p>After starting a server, it was hit with a brief load to warm it up.  This was a clear advantage to PokerFace, as it gave the Java Virtual Machine time to load resources and optimize the bytecode.  Tests were then run a number of times to see that results were consistent across runs.</p></div>
<div class="section">
<h3><a name="ab_v2.3"></a>ab v2.3</h3>
<p>(ab -k -c 50 -t 0 -L Samples/Benchmark/urls.txt)</p>
<p>Please note: There is a publiclly available <a class="externalLink" href="http://code.google.com/p/apachebench-for-multi-url/">multi-url patch for ab</a> which allows <tt>ab</tt> to test multiple url&#x2019;s similar to the way <tt>siege</tt> works.</p>
<div class="section">
<div class="section">
<div class="section">
<h6><a name="nginx_v1.7.9"></a>nginx v1.7.9</h6>

<div>
<div>
<pre class="source">Server Hostname:        127.0.0.1
Server Port:            8080
Concurrency Level:      50
Time taken for tests:   3.352 seconds
Complete requests:      50000
Total transferred:      6867886189 bytes
HTML transferred:       6854170533 bytes
Requests per second:    14914.80 [#/sec] (mean)
Time per request:       3.352 [ms] (mean)
Time per request:       0.067 [ms] (mean, across all concurrent requests)
Transfer rate:          2000647.33 [Kbytes/sec] received
Times (ms)    min  mean[+/-sd] median   max
Connect:        0    0   0.2      0       7
Processing:     0    3   1.8      3      17
Waiting:        0    3   1.5      2      15
Total:          0    3   1.9      3      18
</pre></div></div>
</div>
<div class="section">
<h6><a name="PokerFace"></a>PokerFace</h6>

<div>
<div>
<pre class="source">Server Hostname:        127.0.0.1
Server Port:            8080
Concurrency Level:      50
Time taken for tests:   3.181 seconds
Complete requests:      50000
Total transferred:      6750750044 bytes
HTML transferred:       6742654561 bytes
Requests per second:    15716.73 [#/sec] (mean)
Time per request:       3.181 [ms] (mean)
Time per request:       0.064 [ms] (mean, across all concurrent requests)
Transfer rate:          2072259.64 [Kbytes/sec] received
Times (ms)    min  mean[+/-sd] median   max
Connect:        0    0   0.0      0       2
Processing:     0    3   2.4      3      14
Waiting:        0    1   0.9      1      12
Total:          0    3   2.4      3      14
</pre></div></div>
</div></div></div></div>
<div class="section">
<h3><a name="siege_v2.78"></a>siege v2.78</h3>
<p>(siege -c 100 -i -b -f Samples/Benchmark/urls.txt)</p>
<div class="section">
<div class="section">
<div class="section">
<h6><a name="nginx_v1.7.9"></a>nginx v1.7.9</h6>

<div>
<div>
<pre class="source">Transactions:		        5870 hits
Elapsed time:		       10.15 secs
Data transferred:	     1038.33 MB
Response time:		        0.17 secs
Transaction rate:	      578.33 trans/sec
Throughput:		      102.30 MB/sec
Longest transaction:	        0.38
Shortest transaction:	        0.03
</pre></div></div>
</div>
<div class="section">
<h6><a name="PokerFace"></a>PokerFace</h6>

<div>
<div>
<pre class="source">Transactions:		       14271 hits
Elapsed time:		       10.31 secs
Data transferred:	     2541.44 MB
Response time:		        0.07 secs
Transaction rate:	     1384.19 trans/sec
Throughput:		      246.50 MB/sec
Longest transaction:	        0.22
Shortest transaction:	        0.00
</pre></div></div>
</div></div></div></div>
<div class="section">
<h3>Questions<a name="Questions"></a></h3>
<ul>

<li>Why are the PokerFace performance numbers roughly the same as nginx&#x2019;s when tested using ab, but 2.5 times better when tested using siege?</li>
</ul></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p class="pull-right">Copyright &copy;2015&#x2013;2019
Frank Stock.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
